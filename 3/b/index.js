let e=1,s=0;console.log(require('fs').readFileSync('input.txt').toString().match(/(mul[(]\d+,\d+[)]|do(n't)?[(][)])/gmi).map((m)=>{let s2=0;if(m=='don\'t()')e=0;else if(m=='do()')e=1;else if(e){s2=m.substring(4,m.length-1).split(',').map((n)=>Number(n)).reduce((a,b)=>a*b)}return s2}).reduce((x,y)=>x+y));